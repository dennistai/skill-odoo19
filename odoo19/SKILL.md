---
name: odoo19
description: Odoo 19 ERP official documentation. Use when developing Odoo modules, customizing business logic, understanding ORM patterns, creating views/controllers, working with QWeb templates, troubleshooting Odoo applications, or fixing Odoo 19 compatibility issues.
---

# Odoo19 Skill

Odoo 19 ERP official documentation and compatibility reference. Use for developing Odoo modules, customizing business logic, understanding ORM patterns, creating views/controllers, working with QWeb templates, troubleshooting Odoo applications, and resolving Odoo 19 compatibility issues.

## When to Use This Skill

This skill should be triggered when:
- Working with odoo19
- Asking about odoo19 features or APIs
- Implementing odoo19 solutions
- Debugging odoo19 code
- Learning odoo19 best practices
- Fixing Odoo 19 XML validation errors
- Troubleshooting ir.cron, search view, or mail template issues
- Upgrading modules from Odoo 18 to Odoo 19
- Resolving "Element odoo has extra content" errors
- Fixing "Invalid field" or "Invalid attribute" errors in XML

## Quick Reference

### Common Patterns

**Pattern 1:** Google Sign-In Authentication¶ The Google Sign-In Authentication is a useful function that allows Odoo users to sign in to their database with their Google account. This is particularly helpful if the organization uses Google Workspace, and wants employees within the organization to connect to Odoo using their Google Accounts. WarningDatabases hosted on Odoo.com should not use Oauth login for the owner or administrator of the database as it would unlink the database from their Odoo.com account. If Oauth is set up for that user, the database will no longer be able to be duplicated, renamed or otherwise managed from the Odoo.com portal. See also Google Calendar synchronization Connect Gmail to Odoo using Google OAuth Configuration¶ The integration of the Google sign-in function requires configuration both on Google and Odoo. Google API Dashboard¶ Go to the Google API Dashboard. Make sure the right project is opened. If there isn’t a project yet, click on Create Project, fill out the project name and other details of the company, and click on Create. TipChoose the name of the company from the drop-down menu. OAuth consent screen¶ On the left side menu, click on OAuth consent screen. Choose one of the options (Internal / External), and click on Create. WarningPersonal Gmail Accounts are only allowed to be External User Type, which means Google may require an approval, or for Scopes to be added on. However, using a Google WorkSpace account allows for Internal User Type to be used. Note, as well, that while the API connection is in the External testing mode, then no approval is necessary from Google. User limits in this testing mode is set to 100 users. Fill out the required details and domain info, then click on Save and Continue. On the Scopes page, leave all fields as is, and click on Save and Continue. Next, if continuing in testing mode (External), add the email addresses being configured under the Test users step by clicking on Add Users, and then the Save and Continue button. A summary of the app registration appears. Finally, scroll to the bottom, and click on Back to Dashboard. Credentials¶ On the left side menu, click on Credentials. Click on Create Credentials, and select OAuth client ID. Select Web Application as the Application Type. Now, configure the allowed pages on which Odoo will be redirected. In order to achieve this, in the Authorized redirect URIs field, enter the database’s domain immediately followed by /auth_oauth/signin. For example: https://mydomain.odoo.com/auth_oauth/signin, then click on Create. Now that the OAuth client has been created, a screen will appear with the Client ID and Client Secret. Copy the Client ID for later, as it will be necessary for the configuration in Odoo, which will be covered in the following steps. Google Authentication on Odoo¶ Retrieve the Client ID¶ Once the previous steps are complete, two keys are generated on the Google API Dashboard: Client ID and Client Secret. Copy the Client ID. Odoo activation¶ Go to Odoo General Settings ‣ Integrations and activate OAuth Authentication. NoteOdoo may prompt the user to log-in again after this step. Go back to General Settings ‣ Integrations ‣ OAuth Authentication, activate the selection and Save. Next, return to General Settings ‣ Integrations ‣ Google Authentication and activate the selection. Then fill out the Client ID with the key from the Google API Dashboard, and Save. NoteGoogle OAuth2 configuration can also be accessed by clicking on OAuth Providers under the OAuth Authentication heading in Integrations. Log in to Odoo with Google¶ To link the Google account to the Odoo profile, click on Log in with Google when first logging into Odoo. Existing users must reset their password to access the Reset Password page, while new users can directly click on Log in with Google, instead of choosing a new password. See also Google Cloud Platform Console Help - Setting up OAuth 2.0

```
/auth_oauth/signin
```

**Pattern 2:** GS1 barcode nomenclature¶ GS1 nomenclature consolidates various product and supply chain data into a single barcode. Odoo takes in unique Global Trade Item Numbers (GTIN), purchased by businesses, to enable global shipping, sales, and eCommerce product listing. Configure GS1 nomenclature to scan barcodes of sealed boxes and identify essential product information, such as GTIN, lot number, quantity information, and more. ImportantGTINs are unique product identification that must be purchased from GS1 to use GS1 barcodes. See also All GS1 barcodes Odoo’s default GS1 rules Why’s my barcode not working? Set up barcode nomenclature¶ To use GS1 nomenclature, navigate to the Inventory app ‣ Configuration ‣ Settings. Then under the Barcode section, check the Barcode Scanner box. Next, select Barcode Nomenclature ‣ Default GS1 Nomenclature from the default barcode nomenclature options. The list of GS1 rules and barcode patterns Odoo supports by default is accessible by clicking the ➡️ (arrow) icon to the right of the Barcode Nomenclature selection. In the Open: Nomenclature pop-up table, view and edit the GS1 Rule Names available in Odoo. The table contains all the information that can be condensed with a GS1 barcode, along with the corresponding Barcode Pattern. TipAfter setting GS1 as the barcode nomenclature, the Barcode Nomenclatures settings can also be accessed by a hidden menu that’s discoverable after enabling developer mode. Once enabled, navigate to the Inventory app ‣ Configuration ‣ Barcode Nomenclatures menu and finally, select Default GS1 Nomenclature. Use GS1 barcodes in Odoo¶ For product identification using GS1 barcodes in Odoo, businesses obtain a unique GTIN as an internationally distinct product identifier purchased from GS1. This GTIN is combined with specific product details following GS1’s designated barcode pattern. The barcode pattern’s arrangement of numbers and letters must adhere to GS1 conventions for accurate interpretation by global systems along the supply chain. Every barcode starts with a 2-4 digit application identifier (A.I.). This required prefix universally indicates what kind of information the barcode contains. Odoo follows GS1 rules for identifying information, as detailed in the default GS1 rules list. Including the relevant A.I. from the list enables Odoo to correctly interpret GS1 barcodes. While most barcode patterns have a fixed length requirement, certain ones, such as lots and serial numbers, have flexible length. TipFor flexible-length barcode patterns not placed at the end of the GS1 barcode, use the FNC1 separator (\x1D) to end the barcode. Example: The barcode pattern for lot numbers is 20 characters long. Instead of creating a 20-character lot number barcode, like LOT00000000000000001, use the FNC1 separator to make it shorter: LOT001x1D. Refer to the GS1 nomenclature list to see a comprehensive list of all barcode patterns and rules to follow. Otherwise, refer to this GS1 usage doc for specific examples of combining GTIN to product information and configuring the workflow. See also Lots workflow Non-unit quantities workflow Create rules¶ GS1 rules are a specific format of information contained in the barcode, beginning with an A.I. and containing a defined length of characters. Scanning GS1 barcodes from the default GS1 list auto-fills corresponding data in the Odoo database. Adding GS1 barcode rules in Odoo ensures accurate interpretation of unique, non-standard GS1 formats. To do so, begin by turning on developer mode and navigating to the Barcode Nomenclatures list in Inventory app ‣ Configuration ‣ Barcode Nomenclatures. Then, select the Default GS1 Nomenclature list item. On the Default GS1 Nomenclature page, select Add a line at the bottom of the table, which opens a window to create a new rule. The Rule Name field is used internally to identify what the barcode represents. The barcode Types are different classifications of information that can be understood by the system (e.g. product, quantity, best before date, package, coupon). The Sequence represents the priority of the rule; this means the smaller the value, the higher the rule appears on the table. Odoo follows the sequential order of this table and will use the first rule it matches based on the sequence. The Barcode Pattern is how the sequence of letters or numbers is recognized by the system to contain information about the product. After filling in the information, click the Save & New button to make another rule or click Save & Close to save and return to the table of rules. Barcode troubleshooting¶ Since GS1 barcodes are challenging to work with, here are some checks to try when the barcodes are not working as expected: Ensure that the Barcode Nomenclature setting is set as Default GS1 Nomenclature. Jump to the nomenclature setup section for more details. Ensure that the fields scanned in the barcode are enabled in Odoo. For example, to scan a barcode containing lots and serial numbers, make sure the Lots & Serial Numbers feature is enabled in Odoo’s settings and on the product. Omit punctuation such as parentheses () or brackets [] between the A.I. and the barcode sequence. These are typically used in examples for ease of reading and should not be included in the final barcode. For more details on building GS1 barcodes, go to this section. When a single barcode contains multiple encoded fields, Odoo requires all rules to be listed in the barcode nomenclature for Odoo to read the barcode. This section details how to add new rules in the barcode nomenclature. Test barcodes containing multiple encoded fields, piece by piece, to figure out which field is causing the issue. ExampleWhen testing a barcode containing the GTIN, lot number, and quantity, start by scanning the GTIN alone. Then, test the GTIN with the lot number, and finally, try scanning the whole barcode. After diagnosing the encoded field is unknown, add new rules to Odoo’s default list to recognize GS1 barcodes with unique specifications. ImportantWhile the new field will be read, the information won’t link to an existing field in Odoo without developer customizations. However, adding new rules is necessary to ensure the rest of the fields in the barcode are interpreted correctly. GS1 nomenclature list¶ The table below contains Odoo’s default list of GS1 rules. Barcode patterns are written in regular expressions. Only the first three rules require a check digit as the final character. Rule Name Type Barcode Pattern GS1 Content Type Odoo field Serial Shipping Container Code Package (00)(\d{18}) Numeric identifier Package name Global Trade Item Number (GTIN) Unit Product (01)(\d{14}) Numeric identifier Barcode field on product form GTIN of contained trade items Unit Product (02)(\d{14}) Numeric identifier Packaging Ship to / Deliver to global location Destination location (410)(\d{13}) Numeric identifier Destination location Ship / Deliver for forward Destination location (413)(\d{13}) Numeric identifier Source location I.D. of a physical location Location (414)(\d{13}) Numeric identifier Location Batch or lot number Lot (10) ([!”%-/0-9:-?A-Z_a-z]{0,20}) Alpha-numeric name Lot Serial number Lot (21) ([!”%-/0-9:-?A-Z_a-z]{0,20}) Alpha-numeric name Serial number Packaging date (YYMMDD) Packaging Date (13)(\d{6}) Date Pack date Best before date (YYMMDD) Best before Date (15)(\d{6}) Date Best before date Expiration date (YYMMDD) Expiration Date (17)(\d{6}) Date Expiry date Variable count of items Quantity (30)(\d{0,8}) Measure UoM: Units Count of trade items Quantity (37)(\d{0,8}) Measure Qty in units for containers (AI 02) Net weight: kilograms (kg) Quantity (310[0-5])(\d{6}) Measure Qty in kg Length in meters (m) Quantity (311[0-5])(\d{6}) Measure Qty in m Net volume: liters (L) Quantity (315[0-5])(\d{6}) Measure Qty in L Net volume: cubic meters (m3) Quantity (316[0-5])(\d{6}) Measure Qty in m3 Length in inches (in) Quantity (321[0-5])(\d{6}) Measure Qty in inches Net weight/volume: ounces (oz) Quantity (357[0-5])(\d{6}) Measure Qty in oz Net volume: cubic feet (ft3) Quantity (365[0-5])(\d{6}) Measure Qty in ft3 Packaging type Packaging Type (91) ([!”%-/0-9:-?A-Z_a-z]{0,90}) Alpha-numeric name Package type

```
\x1D
```

**Pattern 3:** Example: The barcode pattern for lot numbers is 20 characters long. Instead of creating a 20-character lot number barcode, like LOT00000000000000001, use the FNC1 separator to make it shorter: LOT001x1D.

```
LOT00000000000000001
```

**Pattern 4:** Peru¶ Modules¶ Install the following modules to utilize all the current features of the Peruvian localization. Name Technical name Description Peru - Accounting l10n_pe Adds accounting features for the Peruvian localization, which represent the minimal configuration required for a company to operate in Peru and under the SUNAT regulations and guidelines. The main elements included in this module are the chart of accounts, taxes, document types. Peru - E-invoicing l10n_pe_edi Includes all technical and functional requirements to generate and receive electronic invoices online based on the SUNAT regulations. Peru - Accounting Reports l10n_pe_reports Includes the following financial reports: 1st set of main financial reports: Registro de Ventas e Ingresos (RVIE) - 14.4 Registro de Compras Electrónico (RCE) - 8.4 Registro de Compras Electrónico - Información de Operaciones con Sujetos no Domiciliados (RCE) - 8.5 2nd set of financial reports: PLE 5.1 General Journal PLE 5.3 Chart of Accounts PLE 6.1 General Ledger 3rd set of financial reports: PLE 1.1 Libro de Caja PLE 1.2 Libro de Bancos Peruvian - Electronic Delivery Note l10n_pe_edi_stock Adds the delivery guide (Guía de Remisión), which is needed as proof that you are sending goods between A and B. It is only when a delivery order is validated that the delivery guide can be created. Peru - Stock Reports l10n_pe_reports_stock Enables the PLE reports for permanent inventory record in physical units and permanent valued inventory records. Peruvian eCommerce l10n_pe_website_sale Enables the identification type in eCommerce checkout forms and the ability to generate electronic invoices. Peruvian - Point of Sale with PE Doc l10n_pe_pos Enables contact fiscal information to be editable from a PoS Session to generate electronic invoices and refunds. Note Odoo automatically installs the appropriate package for the company according to the country selected at the creation of the database. The Peruvian - Electronic Delivery Guide module depends on the Inventory application to be installed. See also App Tour - Localización de Peru Smart Tutorial - Localización de Peru (videos for workflows and configurations) Documentation on e-invoicing’s legality and compliance in Peru Configuration¶ Install the Peruvian localization modules¶ Go to Apps and search for Peru, then click Install in the module Peru EDI. This module has a dependency with Peru - Accounting. In case this last one is not installed, Odoo installs it automatically within EDI. NoteWhen you install a database from scratch selecting Peru as country, Odoo automatically installs the base module: Peru - Accounting. Configure your company¶ In addition to the basic information in the Company, we need to set Peru as the Country, this is essential for the Electronic Invoice to work properly. The field Address Type Code represents the establishment code assigned by the SUNAT when companies register their RUC (Unique Contributor Registration): TipIn case the Address type code is unknown, you can set it as the default value: 0000. Be aware that if an incorrect value is entered, the Electronic invoice validation might have errors. NoteThe NIF should be set following the RUC format. Chart of Account¶ The chart of accounts is installed by default as part of the set of data included in the localization module, the accounts are mapped automatically in: Taxes Default Account Payable. Default Account Receivable The chart of accounts for Peru is based on the most updated version of the PCGE, which is grouped in several categories and is compatible with NIIF accounting. Accounting Settings¶ Once the modules are installed and the basic information of your company is set, you need to configure the elements required for Electronic Invoice. For this, go to Accounting ‣ Settings ‣ Peruvian Localization. Basic Concepts¶ Here are some terms that are essential on the Peruvian localization: EDI: Electronic Data Interchange, which in this refers to the Electronic Invoice. SUNAT: is the organization that enforces customs and taxation in Peru. OSE: Electronic Service Operator, OSE SUNAT’s definition. CDR: Receipt certificate (Constancia de Recepción). SOL Credentials: Sunat Operaciones en Línea. User and password are provided by the SUNAT and grant access to Online Operations systems. Signature Provider¶ As part of the requirements for Electronic Invoice in Peru, your company needs to select a Signature Provider that will take care of the document signing process and manage the SUNAT validation response. Odoo offers three options: IAP (Odoo In-App Purchase) Digiflow SUNAT Please refer to the sections below to check the details and considerations for each option. IAP (Odoo In-App Purchase)¶ This is the default and the suggested option, considering the digital ceritificate is included as part of the service. What is the IAP?¶ This is a signature service offered directly by Odoo, the service takes care of the next process: Provides the Electronic invoice Certificate, so you do not need to acquire one by yourself. Send the document to the OSE, in this case, Digiflow. Receive the OSE validation and CDR. How does it work?¶ The service requires Credits in order to process your electronic documents. Odoo provides 1000 credits for free in new databases. After these credits are consumed, you need to buy a Credit Package. Credits EUR 1000 22 5000 110 10,000 220 20,000 440 The credits are consumed per each document that is sent to the OSE. ImportantIf you have a validation error and the document needs to be sent one more time, one additional credit will be charged. Therefore, it is paramount that you verify all information is correct before sending your document to the OSE. What do you need to do?¶ In Odoo, once your enterprise contract is activated and you start working in Production, you need to buy credits once the first 1000 are consumed. As Digiflow is the OSE used in the IAP, you need to affiliate it as the official OSE for your company on the SUNAT website. This is a simple process. For more information, please check OSE Affiliation guide. Register Digiflow as the authorized PSE, please check PSE Affiliation guide. Digiflow¶ This option can be used as an alternative, instead of using the IAP services you can send your document validation directly to Digiflow. In this case you need to consider: Buy your own digital Certificate: For more detail regarding the official vendor list, and the process to acquire it, please refer to SUNAT Digital Ceritifcates. Sign a service agreement directly with Digiflow. Provide your SOL credentials. SUNAT¶ In case your company wants to sign directly with the SUNAT, it is possible to select this option in your configuration. In this case you need to consider: - Get the SUNAT Certification process accepted. Buy your own digital Certificate: For more detail regarding the official vendor list, and the process to acquire it, please refer to SUNAT Digital Ceritifcates. Provide you SOL credentials. ImportantWhen using direct connection with the SUNAT, the SOL User must be set with the Company RUT + User Id. Example: 20121888549JOHNSMITH Testing environment¶ Odoo provides a testing environment that can be activated before your company goes into production. When using the testing environment and the IAP signature, you don’t need to buy testing credits for your transactions as all of them are validated by default. TipBy default the databases are set to work on production, make sure to enable the testing mode if needed. Certificate¶ In case you don’t use Odoo IAP, in order to generate the electronic invoice signature, a digital certificate with the extension .pfx is required. Proceed to this section and load your file and password. Multicurrency¶ The official currency exchange rate in Peru is provided by the SUNAT. Odoo can connect directly to its services and get the currency rate either automatically or manually. Please refer to the next section in our documentation for more information about multicurrencies. Configure Master data¶ Taxes¶ As part of the localization module the taxes are created automatically with their related financial account and electronic invoice configuration. EDI Configuration¶ As part of the taxes configuration, there are three new fields required for electronic invoice, the taxes created by default have this data included, but in case you create new taxes make sure you fill in the fields: Fiscal Positions¶ There are two main fiscal positions included by default when you install the Peruvian localization. Extranjero - Exportación: Set this fiscal position on customers for Exportation transactions. Local Peru: Set this fiscal position on local customers. Document Types¶ In some Latin American countries, including Peru, some accounting transactions like invoices and vendor bills are classified by document types, defined by the government fiscal authorities, in this case by the SUNAT. Each document type can have a unique sequence per journal where it is assigned. As part of the localization, the Document Type includes the country on which the document is applicable;the data is created automatically when the localization module is installed. The information required for the document types is included by default so the user does not need to fill anything on this view: WarningCurrently the documents supported on customer invoices are: Invoice, Boleta, Debit Note and Credit Note. Journals¶ When creating Sales Journals, the following information must be filled, in addition to the standard fields on the Journals: Use Documents¶ This field is used to define if the journal uses Document Types. It is only applicable to Purchase and Sales journals, which are the ones that can be related to the different set of document types available in Peru. By default, all the sales journals created use documents. Electronic Data Interchange¶ This section indicates which EDI workflow is used in the invoice, for Peru we must select “Peru UBL 2.1”. WarningBy default, the value Factur-X (FR) is always displayed, make sure you can uncheck it manually. Partner¶ Identification Type and VAT¶ As part of the Peruvian localization, the identification types defined by the SUNAT are now available on the Partner form, this information is essential for most transactions either on the sender company and in the customer, make sure you fill in this information in your records. Product¶ Additional to the basic information in your products, for the Peruvian localization, the UNSPC Code on the product is a required value to be configured. Usage and testing¶ Customer invoice¶ EDI Elements¶ Once you have configured your master data, the invoices can be created from your sales order or manually. Additional to the basic invoice information described on our page about the invoicing process, there are a couple of fields required as part of the Peru EDI: Document type: The default value is “Factura Electronica” but you can manually change the document type if needed and select Boleta for example. Operation type: This value is required for Electronic Invoice and indicates the transaction type, the default value is “Internal Sale” but another value can be selected manually when needed, for example Export of Goods. EDI Affectation Reason: In the invoice lines, additional to the Tax there is a field “EDI Affectation Reason” that determines the tax scope based on the SUNAT list that is displayed. All the taxes loaded by default are associated with a default EDI affection reason, if needed you can manually select another one when creating the invoice. Invoice validation¶ Once you check all the information in your invoice is correct, you can proceed to validate it. This action registers the account move and triggers the Electronic invoice workflow to send it to the OSE and the SUNAT. The following message is displayed at the top of the invoice: Asynchronous means that the document is not sent automatically after the invoice has been posted. Electronic Invoice Status¶ To be Sent: Indicates the document is ready to be sent to the OSE, this can be done either automatically by Odoo with a cron that runs every hour, or the user can send it immediately by clicking on the button “Sent now”. Sent: Indicates the document was sent to the OSE and was successfully validated. As part of the validation a ZIP file is downloaded and a message is logged in the chatter indicating the correct Government validation. In case there is a validation error the Electronic Invoice status remains in “To be sent” so the corrections can be made and the invoice can be sent again. WarningOne credit is consumed each time that you send a document for validation, in this sense if an error is detected on an invoice and you send it one more time, two credits are consumed in total. Common Errors¶ There are multiple reasons behind a rejection from the OSE or the SUNAT, when this happens Odoo sends a message at the top of the invoice indicating the error details and in the most common cases a hint to fix the issue. If a validation error is received, you have two options: In case the error is related to master data on the partner, customer or taxes, you can simply apply the change on the record (example customer identification type) and once it is done click on the Retry button. If the error is related to some data recorded on the invoice directly (Operation type, missing data on the invoice lines), the correct solution is to reset the invoice to Draft, apply the changes, and then send the invoice again to the SUNAT for another validation. For more detail please refert to Common errors in SUNAT. Invoice PDF Report¶ After the invoice is accepted and validated by the SUNAT, the invoice PDF report can be printed. The report includes a QR code, indicating the invoice is a valid fiscal document. IAP Credits¶ Odoo’s Electronic IAP offers 1000 credits for free, after these credits are consumed in your production database, your company must buy new credits in order to process your transactions. Once you run out of credits a red label is displayed at the top of the invoice indicating that additional credits are required, you can easily buy them by accessing the link provided in the message. In the IAP service includes packages with different pricing based on the number of credits. The price list in the IAP is always displayed in EUR. Special Use cases¶ Cancellation process¶ Some scenarios require an invoice cancellation, for example, when an invoice was created by mistake. If the invoice was already sent and validated by the SUNAT, the correct way to proceed is by clicking on the button Request Cancellation: In order to cancel an invoice, please provide a cancellation Reason. Electronic Invoice Status¶ To Cancel: Indicates the cancellation request is ready to be sent to the OSE, this can be done either automatically by Odoo with a cron that runs every hour, or the user can send it immediately by clicking on the button “Send now”. Once it is sent, a cancellation ticket is created, as a result the next message and CDR File are logged in the chatter: Cancelled: Indicates the cancellation request was sent to the OSE and was successfully validated. As part of the validation a ZIP file is downloaded and a message is logged in the chatter indicating the correct Government validation. WarningOne credit is consumed on each cancellation request. Export invoices¶ When creating exportation invoices, take into account the next considerations: The Identification type on your customer must be Foreign ID. Operation type in your invoice must be an Exportation one. The taxes included in the invoice lines should be EXP taxes. Advance Payments¶ Create the advance payment Invoice and apply its related payment. Create the final invoice without considering the advance payment. Create a credit note for the Final invoice with the advance payment amount. Reconcile the Credit note with the final invoice. The remaining balance on the final invoice should be paid with a regular payment transaction. Detraction Invoices¶ When creating invoices that is subject to Detractions, take into account the next considerations: All the products included in the invoice must have these fields configured: Operation type in your invoice must be 1001 Credit Notes¶ When a correction or refund is needed over a validated invoice, a credit note must be generated, for this just click on the button “Add Credit Note”, a part of the Peruvian localization you need to prove a Credit Reason selecting one of the options in the list. TipWhen creating your first credit Note, select the Credit Method: Partial Refund, this allows you to define the credit note sequence. By default the Credit Note is set in the document type: To finish the workflow please follow the instructions on our page about Credit Notes. NoteThe EDI workflow for the Credit notes works in the same way as the invoices. Debit Notes¶ As part of the Peruvian localization, besides creating credit notes from an existing document you can also create debit Notes. For this just use the button “Add Debit Note”. By default the Debit Note is set in the document type. Electronic delivery guide 2.0¶ The Guía de Remisión Electrónica (GRE) is an electronic document generated by the shipper to support the transportation or transfer of goods from one place to another, such as a warehouse or establishment. In Odoo, there are several configuration steps needed before you can successfully use this feature. The use of the guía de remisión electrónica electronic document is mandatory and required by SUNAT for taxpayers who need to transfer their products, except those under the Single Simplified Regime (régimen único simplificado or RUS). Delivery guide types¶ Sender¶ The Sender delivery guide type is issued when a sale is made, a service is rendered (including processing), goods are assigned for use, or goods are transferred between premises of the same company and others. This delivery guide is issued by the owner of the goods (i.e., the sender) at the beginning of the shipment. The sender delivery guide is supported in Odoo. See alsoSUNAT guía de remisión Carrier¶ The Carrier delivery guide type justifies the transportation service the driver (or carrier) performs. This delivery guide is issued by the carrier and must be issued to each shipper when the shipment goes through public transport. ImportantThe carrier delivery guide is not supported in Odoo. See alsoSUNAT guía de remisión transportista Transportation types¶ Private¶ The Private transportation type option is used when the owner transfers goods using their own vehicles. In this case, a sender’s delivery guide must be issued. Public¶ The Public transportation type option is used when an external carrier moves the goods. In this case, two delivery guides must be issued: the sender’s delivery guide and the carrier’s delivery guide. Direct submission to SUNAT¶ The creation of the GRE delivery guide in Odoo must be sent directly to the SUNAT, regardless of the electronic document provider: IAP, Digiflow, or SUNAT. Required information¶ Version 2.0 of the electronic delivery guide requires additional information on the general configuration, vehicles, contacts, and products. In the general configuration, it is necessary to add new credentials that you can retrieve from the SUNAT portal. Cancellations¶ Both the sender and the carrier can cancel the electronic waybill as long as the following conditions are met: The shipment has not been initiated. If the shipment has been initiated, the receiver must be changed before reaching the final destination. ImportantThe SUNAT no longer uses the term “Anula”, but now uses the term “Dar de baja” for cancellations. Testing¶ The SUNAT does not support a test environment. This means that any delivery guides that were generated by mistake will be sent to the SUNAT. If, by mistake, the waybill was created in this environment, it is necessary to delete it from the SUNAT portal. Configuration¶ Important Electronic sender’s GRE is currently the only supported type of waybill in Odoo. The delivery guide is dependent on the Odoo Inventory app, the l10n_pe_edi and l10n_pe modules. A second user must be added for the creation of electronic documents. After following the steps to configure the electronic invoicing and the master data, install the Peruvian - Electronic Delivery Note 2.0 module (l10n_pe_edi_stock_20). Next, you need to retrieve the client ID and client secret from SUNAT. To do so, follow the manual de servicios web plataforma nueva GRE. NoteIn the SUNAT portal, it is important to have the correct access rights enabled, as they may differ from the user set for electronic invoicing. These credentials should be used to configure the delivery guide general settings from Inventory ‣ Configuration ‣ Settings, and scroll down to the Peru Delivery Guide section. Configure the following Sunat Delivery Guide API fields: Guide Client ID: the unique API client ID generated in the SUNAT portal Guide Client Secret: the unique API client secret generated in the SUNAT portal Guide SOL User: the RUC Number + SOL username Guide SOL Password: the SOL user password NoteIt is required to follow the format RUC + UsuarioSol (e.g., 20557912879SOLUSER) for the Guide SOL User field, depending on the user selected when generating the GRE API credentials in the SUNAT portal. Operator¶ The operator is the vehicle’s driver in cases where the delivery guide is through private transport. To create a new operator, navigate to Contacts ‣ Create and fill out the contact information. First, select Individual as the Company Type. Then, add the Operator License in the Accounting tab of the contact form. For the customer address, make sure the following fields are complete: District Tax ID (DNI/RUC) Tax ID Number Carrier¶ The carrier is used when the delivery guide is through public transport. To create a new carrier, navigate to Contacts ‣ Create and fill out the contact information. First, select Company as the Company Type. Then, add the MTC Registration Number, Authorization Issuing Entity, and the Authorization Number. For the company address, make sure the following fields are complete: District Tax ID (DNI/RUC) Tax ID Number Vehicles¶ To configure the available vehicles, navigate to Inventory ‣ Configuration ‣ Vehicles and fill in the vehicle form with the information needed for the vehicle: Vehicle Name License Plate Is M1 or L? Special Authorization Issuing Entity Authorization Number Default Operator Company ImportantIt is important to check the Is M1 or L? checkbox if the vehicle has fewer than four wheels or fewer than eight seats. Products¶ To configure the available products, navigate to Inventory ‣ Products and open the product to be configured. Make sure that the applicable information in the product form is fully configured. The Partida Arancelaria (Tariff Item) field needs to be completed. Generating a GRE¶ Once the delivery from inventory is created during the sales workflow, make sure you complete the GRE fields on the top-right section of the transfer form for the fields: Transport Type Reason for Transfer Departure start date It is also required to complete the Vehicle and Operator fields under the Guia de Remision PE tab. The delivery transfer has to be marked as Done for the Generar Guia de Remision button to appear on the left menu of the transfer form. Once the transfer form is correctly validated by SUNAT, the generated XML file becomes available in the chatter. You can now print the delivery slip that shows the transfer details and the QR code validated by SUNAT. Common errors¶ Diferente prefijo para productos (T001 en algunos, T002 en otros) At the moment, Odoo does not support the automation of prefixes for products. This can be done manually for each product output. This can also be done for non-storable products. However, keep in mind that there will be no traceability. 2325 - GrossWeightMeasure - El dato no cumple con el formato establecido "Hace falta el campo" "Peso"" en el producto This error occurs when the weight on the product is set as 0.00. To fix this, you need to cancel the waybill and recreate it. Make sure that you fix the weight on the product before creating the new waybill, or it will result in the same error. JSONDecodeError: Expecting value: line 1 column 1 (char 0) when creating a Delivery Guide This error is typically generated due to SOL user issues. Verify the user’s connection with the SUNAT; the SOL user must be established with the company RUT + user ID. For example 2012188549JOHNSMITH. El número de documento relacionado al traslado de mercancía no cumple con el formato establecido: error: documento relacionado The Related Document Type and Related Document Number fields only apply to invoices and receipts. 400 Client error: Bad Request for URL This error is not solvable from Odoo; it is advised you reach out to the SUNAT and verify the user. It may be necessary to create a new user. Invalid content was found starting with element 'cac:BuyerCustomerParty' This error occurs when the transfer reason is set as other. Please select another option. Following to the official documentation of the SUNAT’s waybill guide, the transfer reasons 03 (sale with shipment to third party) or 12 (others) does not work in Odoo, since you should not have an empty or blank customer. Duda cliente: consumo de créditos IAP al usar GRE 2.0 For live clients using IAP, no credit is consumed (in theory) because it does not go through the OSE, i.e., these documents are directly sent to the SUNAT. Errores con formato credenciales GRE 2.0 (traceback error) Odoo currently throws an error with a traceback instead of a message that the credentials are not correctly configured in the database. If this occurs on your database, please verify your credentials. eCommerce electronic invoicing¶ First, install the Peruvian eCommerce (l10n_pe_website_sale) module. The Peruvian eCommerce module enables the features and configurations to: allow clients to create online accounts for eCommerce purposes; support required fiscal fields in the eCommerce application; receive payments for sales orders online; generate electronic documents from the eCommerce application. NoteThe Peruvian eCommerce module is dependent on the previous installation of the Invoicing or Accounting app, as well as the Website app. Configuration¶ After configuring the Peruvian electronic invoicing flow, complete the following configurations for the eCommerce flow: Client account registration; Automatic invoice; Products: Set the Invoicing Policy to Ordered quantities and define the desired Customer taxes. Online payments; Delivery: For each shipping method, set the Provider field to Fixed Price. Then, set a Fixed Price amount greater than 0.00 (not zero), as the shipping method price is added to the invoice line. Note Mercado Pago is an online payment provider supported in Odoo that covers several countries, currencies, and payment methods in Latin America. Make sure to define a Sales Price on the Delivery Product of the shipping method to prevent errors when validating the invoice with SUNAT. To offer free delivery, manually remove the Delivery Product, or at least use $0.01 (one cent) for the invoice to be validated with SUNAT. See alsoSet up the Mercado Pago payment provider. Invoicing flow for eCommerce¶ Once the configurations are all set, fiscal input fields will be available during the checkout process for signed-in customers. When customers enter their fiscal data at checkout and complete a successful purchase, the invoice is generated with the corresponding EDI elements. The document type (Boleta/Factura) is selected based on their tax ID (RUC/DNI). The invoice must then be sent to the OSE and the SUNAT. By default, all published invoices are sent once a day through a scheduled action, but you can also send each invoice manually if needed. Once the invoice is validated with SUNAT, customers can download the .zip file with the CDR, XML, and PDF files directly from the customer portal by clicking the Download button. Reports¶ Permanent inventory reports: PLE 12.1 and PLE 13.1¶ Odoo can produce two permanent inventory reports as .txt files for Peruvian accounting: PLE 12.1 and PLE 13.1. All inventory transactions made need to be reported. PLE 12.1 only tracks inventory in physical units, focusing on the inflow and outflow of goods for effective management and planning. PLE 13.1 tracks both physical quantities and monetary values of inventory, providing a comprehensive view for tax and management purposes. Both reports must be maintained semi-annually (January-June and July-December), with monthly transaction details reported within these periods. The submission deadlines are October 1st for the first semester and April 1st for the second semester, in accordance with the Resolución de Superintendencia N° 169-2015. Configuration¶ Before generating the PLE 12.1 or PLE 13.1 reports, make sure the Peru - Stock Reports (l10n_pe_reports_stock) module is installed, then update the fields for: Products Warehouses Inventory transfers Products¶ Several configurations related to the product or product category are necessary for PLE reporting: Type of existence: For all products needing PLE reporting, go to the product record’s Accounting tab and select the Type of Existence according to SUNAT’s table 5 for inventory reporting. Automatic inventory valuation: For storable goods (products with tracked inventory), use automatic inventory valuation. Once automatic inventory valuation is enabled, this valuation method can be enabled for a product’s product category. Costing method: Storable goods must use a costing method other than Standard Price, as the journal entries generated from stock moves are used to populate the PLE reports. Warehouses¶ When setting up a warehouse, the Annex Establishment Code field must be filled. This code acts as a unique ID for each warehouse and should only be a numeric combination, containing between 4 to 7 digits. Inventory transfers¶ Transferring inventory is a key process captured in the PLE 12.1 and PLE 13.1 reports. Inventory transfers include both incoming and outgoing shipments. When validating an inventory transfer (either on a warehouse receipt or delivery order), select the Type of Operation (PE) performed according to SUNAT’s table 12 for permanent inventory reporting. Generate a .txt file for permanent inventory Kardex reports¶ PLE 12.1 and 13.1 come as two separate books. The books need to be downloaded in .txt file format from Odoo, and then they should be submitted to the SUNAT PLE software. On the Inventory Valuation Report, click the PLE Reports button. Then, select the Period and choose a report to export: either the PLE 12.1 or PLE 13.1. Odoo generates a .txt file for the chosen report. NoteOnly a download of the report in .txt format is available. There is no preview or visualization available within Odoo.

```
l10n_pe
```

**Pattern 5:** ImportantWhen using direct connection with the SUNAT, the SOL User must be set with the Company RUT + User Id. Example: 20121888549JOHNSMITH

```
20121888549JOHNSMITH
```

**Pattern 6:** Flutterwave¶ Flutterwave is an online payments provider established in Nigeria and covering several African countries and payment methods. Configuration on Flutterwave Dashboard¶ Log into Flutterwave Dashboard and go to Settings ‣ API. Copy the values of the Public Key and Secret Key fields and save them for later. Go to Settings ‣ Webhooks and enter your Odoo database URL followed by /payment/flutterwave/webhook in the URL text field. For example: https://yourcompany.odoo.com/payment/flutterwave/webhook. Fill the Secret hash with a password that you generate and save its value for later. Make sure all the remaining checkboxes are ticked. Click on Save to finalize the configuration. Configuration on Odoo¶ Navigate to the payment provider Flutterwave and change its state to Enabled. In the Credentials tab, fill the Public Key, Secret Key, and Webhook Secret with the values you saved at the step Configuration on Flutterwave Dashboard. Configure the rest of the options to your liking. ImportantIf you choose to allow saving payment methods, it is recommended to only enable card payments from Flutterwave dashboard, as only cards can be saved as payment tokens. To do so, go to your Flutterwave Dashboard and then to Settings ‣ Account Settings. See also Online payments

```
/payment/flutterwave/webhook
```

**Pattern 7:** For example: https://yourcompany.odoo.com/payment/flutterwave/webhook.

```
https://yourcompany.odoo.com/payment/flutterwave/webhook
```

**Pattern 8:** Chapter 3: Customize a kanban view¶ We have gained an understanding of the numerous capabilities offered by the web framework. As a next step, we will customize a kanban view. This is a more complicated project that will showcase some non trivial aspects of the framework. The goal is to practice composing views, coordinating various aspects of the UI, and doing it in a maintainable way. Bafien had the greatest idea ever: a mix of a kanban view and a list view would be perfect for your needs! In a nutshell, he wants a list of customers on the left of the CRM kanban view. When you click on a customer on the left sidebar, the kanban view on the right is filtered to only display leads linked to that customer. Goal SolutionsThe solutions for each exercise of the chapter are hosted on the official Odoo tutorials repository. 1. Create a new kanban view¶ Since we are customizing the kanban view, let us start by extending it and using our extension in the kanban view of CRM. Create a new empty component that extends the KanbanController component from @web/views/kanban/kanban_controller. Create a new view object and assign all keys and values from kanbanView from @web/views/kanban/kanban_view. Override the Controller key by putting your newly created controller. Register it in the views registry under awesome_kanban. Update the crm kanban arch in awesome_kanban/views/views.xml to use the extended view. This can be done by specifying the js_class attribute in the kanban node. See alsoExample: Create a new view by extending a pre-existing one 2. Create a CustomerList component¶ We will need to display a list of customers, so we might as well create the component. Create a CustomerList component which only displays a div with some text for now. It should have a selectCustomer prop. Create a new template extending (XPath) the kanban controller template web.KanbanView to add the CustomerList next to the kanban renderer. Give it an empty function as selectCustomer for now. TipYou can use this xpath inside the template to add a div before the renderer component. <xpath expr="//t[@t-component='props.Renderer']" position="before"> ... </xpath> Subclass the kanban controller to add CustomerList in its sub-components. Make sure you see your component in the kanban view. See alsoTemplate inheritance 3. Load and display data¶ Modify the CustomerList component to fetch a list of all customers in onWillStart. Display the list in the template with a t-foreach. Whenever a customer is selected, call the selectCustomer function prop. See also Example: fetching records from a model 4. Update the main kanban view¶ Implement selectCustomer in the kanban controller to add the proper domain. TipSince it is not trivial to interact with the search view, here is a snippet to create a filter: this.env.searchModel.createNewFilters([{ description: partner_name, domain: [["partner_id", "=", partner_id]], isFromAwesomeKanban: true, // this is a custom key to retrieve our filters later }]) By clicking on multiple customers, you can see that the old customer filter is not replaced. Make sure that by clicking on a customer, the old filter is replaced by the new one. TipYou can use this snippet to get the customers filters and toggle them. const customerFilters = this.env.searchModel.getSearchItems((searchItem) => searchItem.isFromAwesomeKanban ); for (const customerFilter of customerFilters) { if (customerFilter.isActive) { this.env.searchModel.toggleSearchItem(customerFilter.id); } } Modify the template to give the real function to the CustomerList selectCustomer prop. NoteYou can use Symbol to make sure that the custom isFromAwesomeKanban key will not collide with keys any other code might add to the object. 5. Only display customers which have an active order¶ There is a opportunity_ids field on res.partner. Let us allow the user to filter results on customers with at least one opportunity. Add an input of type checkbox in the CustomerList component, with a label “Active customers” next to it. Changing the value of the checkbox should filter the list of customers. 6. Add a search bar to the customer list¶ Add an input above the customer list that allows the user to enter a string and to filter the displayed customers, according to their name. TipYou can use the fuzzyLookup from @web/core/utils/search function to perform the filter. See also Code: The fuzzylookup function Example: Using fuzzyLookup 7. Refactor the code to use t-model¶ To solve the previous two exercises, it is likely that you used an event listener on the inputs. Let us see how we could do it in a more declarative way, with the t-model directive. Make sure you have a reactive object that represents the fact that the filter is active (something like this.state = useState({ displayActiveCustomers: false, searchString: ''})). Modify the code to add a getter displayedCustomers which returns the currently active list of customers. Modify the template to use t-model. 8. Paginate customers!¶ Add a pager in the CustomerList, and only load/render the first 20 customers. Whenever the pager is changed, the customer list should update accordingly. This is actually pretty hard, in particular in combination with the filtering done in the previous exercise. There are many edge cases to take into account.

```
KanbanController
```

### Example Code Patterns

**Example 1** (sql):
```sql
$ psql -d rd-demo
rd-demo=# SELECT COUNT(*) FROM estate_property;
count
-------
    0
(1 row)
```

**Example 2** (python):
```python
from odoo import models

class TestModel(models.Model):
    _name = "test_model"
```

**Example 3** (jsx):
```jsx
<xpath expr="//t[@t-component='props.Renderer']" position="before">
   ...
</xpath>
```

## Reference Files

This skill includes comprehensive documentation in `references/`:

- **odoo19-compatibility.md** - **重要！** Odoo 19 相容性問題與視圖注意事項
- **controllers.md** - Controllers documentation
- **orm.md** - Orm documentation
- **tutorials.md** - Tutorials documentation
- **views.md** - Views documentation

Use `Read` to access specific reference files when detailed information is needed.

### Odoo 19 Compatibility Quick Reference

**XML 資料檔案：**
- `type="html"` 與 `<![CDATA[]]>` 不能同時使用

**attrs 屬性棄用：**
- `attrs` 屬性已拆分為獨立的 `readonly`/`invisible`/`required` 動態表達式

**ir.cron 排程任務：**
- 已移除欄位：`numbercall`, `doall`, `active`

**搜尋視圖 (Search View)：**
- `<group>` 不支援 `expand` 和 `string` 屬性
- `<filter>` 不支援 `icon` 和 `decoration-*` 屬性
- group_by 篩選器必須包含 `domain="[]"`

**列表視圖 (List View)：**
- `<tree>` 標籤已改為 `<list>`
- 隱藏整列使用 `column_invisible` 而非 `invisible`

**設定視圖 (Settings View)：**
- 使用新的 `<app>`、`<block>`、`<setting>` 結構

**Chatter：**
- 支援簡化的 `<chatter/>` 語法取代舊的 `div.oe_chatter` 結構

**SQL 約束：**
- `_sql_constraints` 已棄用，改用 `models.Constraint`

**欄位屬性：**
- `One2many`/`Many2many` 已移除 `limit` 參數
- `group_operator` 改為 `aggregator`

**模型移除：**
- `ir.values` 已移除
- `res.partner.title` 已移除

**匯入路徑：**
- `from odoo import registry` → `from odoo.modules.registry import Registry`
- `from odoo.tools.misc import xlsxwriter` → `import xlsxwriter`
- `from odoo.osv` → `from odoo import Domain`

詳細說明請參閱 `references/odoo19-compatibility.md`

## Working with This Skill

### For Beginners
Start with the getting_started or tutorials reference files for foundational concepts.

### For Specific Features
Use the appropriate category reference file (api, guides, etc.) for detailed information.

### For Code Examples
The quick reference section above contains common patterns extracted from the official docs.

## Resources

### references/
Organized documentation extracted from official sources. These files contain:
- Detailed explanations
- Code examples with language annotations
- Links to original documentation
- Table of contents for quick navigation

### scripts/
Add helper scripts here for common automation tasks.

### assets/
Add templates, boilerplate, or example projects here.

## Notes

- This skill was automatically generated from official documentation
- Reference files preserve the structure and examples from source docs
- Code examples include language detection for better syntax highlighting
- Quick reference patterns are extracted from common usage examples in the docs

## Updating

To refresh this skill with updated documentation:
1. Re-run the scraper with the same configuration
2. The skill will be rebuilt with the latest information
